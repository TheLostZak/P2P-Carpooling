<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.ethers.io/lib/ethers-5.0.umd.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="node_modules/web3.js-browser/build/web3.js"></script>
    <script src="node_modules/web3/dist/web3.min.js"></script>
    <script src="/connection.js"></script>
    <script src="/balanceview.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script>
        $(document).ready(function () {
            $("#btn_action").click(function () {
                var hashcode = $("#hashaddressdp").val();
                App.myContract.loginPanel(hashcode).then(
                    function (returndata) {
                        if (returndata[1] == 1) {
                            uname = returndata[0];
                            Cookies.set('hashcodecp', hashcode, { expires: 14 });
                            Cookies.set('usernamecp', uname, { expires: 14 });
                            window.location.replace('dashboard.html');
                        }
                        else {
                            alert("User Account Not Found");
                        }
                    }
                );
            });
            $("#btn_action2").click(function () {
                var hashcode = $("#hashaddresspp").val();
                App.myContract.loginPanel(hashcode).then(
                    function (returndata) {
                        if (returndata[1] == 1) {
                            uname = returndata[0];
                            Cookies.set('hashcodecp', hashcode, { expires: 14 });
                            Cookies.set('usernamecp', uname, { expires: 14 });
                            window.location.replace('dashboardpassenger.html');
                        }
                        else {
                            alert("User Account Not Found");
                        }
                    }
                );
            });
        });
    </script>
</head>

<body>
    <div class="backshots"> 
        <div class="navbar">
            <h1>CarPooling - Login Panel</h1>
        </div>
        <div class="cont">
            <div class="card">
                <fieldset>
                    <legend> User - Driver Panel</legend>
                    <form id=form1>
                        <div>
                            <span class="title">User Address</span>
                            <input type="text" id="hashaddressdp" placeholder="Write Here" />
                        </div>
                        <br />
                        <div>
                            <span class="title"></span>
                            <input type="button" id="btn_action" value="Log-in as Driver" />
                        </div>
                    </form>
                </fieldset>
                <fieldset>
                    <legend> User - Passenger Panel</legend>
                    <form id=form2>
                        <div>
                            <span class="title">User Address</span>
                            <input type="text" id="hashaddresspp" placeholder="Write Here" />
                        </div>
                        <br />
                        <div>
                            <span class="title"></span>
                            <input type="button" id="btn_action2" value="Log-in as Passenger" />
                        </div>
                    </form>
                </fieldset>
                <div align='right'><a href='newuser.html'>New User?</a></div>
            </div>
        </div>
    </div>
</body>

</html>